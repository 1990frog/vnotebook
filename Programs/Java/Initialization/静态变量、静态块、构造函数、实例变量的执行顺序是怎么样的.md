先说一下，java程序在执行过程中类大致经过加载、连接、初始化、使用和卸载的五个阶段。

和本题目相关的阶段有：

类加载阶段：查找类文件和导入类或接口的二进制数据；

链接：给类的静态变量分配并初始化存储空间等；

初始化：执行类的静态变量的初始化，执行静态Java代码块。静态代码块只执行一次。

（类的非静态代码则在类的使用阶段（也就是实例化一个类的时候）才会被初始化）

使用：就是在堆中创建对象，构造函数在这个阶段。



静态变量：可以理解为类变量，对应于静态方法理解为类方法

静态变量按类型分2种情况：

1.如果静态变量是基本数据类型，变量放在方法区，在加载类的时候初始化。

2.如果静态变量是引用类型。则必须先初始化这个类对象之后才能将引用指向它。变量也放在方法区。

静态代码块：静态代码块主要用于类的初始化。在类被加载时自动执行。它只执行一次，并在main函数之前执行。

静态方法：就是类方法。静态方法可以直接“类名.方法名”的方式使用，而实例方法必须在类实例化对象后通过“对象名.方法名”来调用。

而对于静态变量、静态块、构造函数、实例变量的执行顺序是怎么样的？
下面看个例子：

```java
public abstract class Aniimal {
    public int age = 0;
    static {
        System.out.println("Animal static block");
    }
    {
        System.out.println("Animal nonstatic block");
    }

    Aniimal(int age){
        System.out.println("Animal start");
        this.age = age;
        System.out.println("age"+age);
        eat();//多态
        System.out.println("Animal end");
    }
    public void eat(){
        System.out.println("Animal.eat");
    }
} 
```
超类Animal

```java
public class Air {
    static {
        System.out.println("Air static block");
    }
    public Air(){
        System.out.println("Air static");
    }
} 
```
打酱油的Air类

```java
public class Dog extends Aniimal {
    static Air air = new Air();
    static {
        System.out.println("dog static block");
    }
    {
        System.out.println("dog nonstatic block");
    }

    Dog(int age){
        super(age);
        System.out.println("Dog start");
        eat();//多态
        System.out.println("Dog initialized");
    }
    public void eat(){
        System.out.println("Dog.eat");
    }
    public static void main(String[] args){
        new Dog(5);
    }
} 
```
主类Dog，main里执行new Dog（5）

注意第4行。

先直接说答案，过程是这样的：

初始化父类的静态代码块--->初始化子类的静态代码块-->初始化父类的非静态代码块--->初始化父类构造函数--->初始化子类非静态代码--->初始化子类构造函数

分步骤：

1，在new Dog（5）进行实例化Dog类时首先要进行类的装载。

2，在装载Dog类时，先装载父类Animal，再装载子类Dog

3，装载父类Animal后，完成静态动作（包括静态代码块和变量，它们的级别是相同的，顺序初始化）

4，装载子类Dog后，完成静态动作

类装载完成，开始进行实例化对象：

1，在实例化子类Dog时，先要实例化父类Animal

2，实例化父类Animal时，先成员变量、块执行

3，父类Animal的构造方法

4，子类Dog的实例化，先成员变量、块执行

5，子类Dog的构造方法



注意：

第2和第3行是Dog静态变量部分

第5-9行是Animal实例化时的输出

第8行和第12行，就是多态的结果。

第10-13行是Dog实例化时的输出

