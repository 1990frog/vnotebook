[TOC]

# 消息模型
+ Broker：存储消息
+ Producer：生产消息
+ Consumer：消费消息

# Broker
broker在实际部署过程中对应一台服务器
+ 每个broker可以存储多个topic的消息
+ 每个topic的消息也可以分片存储于不同的broker

Message Queue用于存储消息的物理地址，每个topic中的消息地址存储于多个message queue中。
ConsumerGroup由多个Consumer实例构成。

# Producer
负责生产消息，一般由业务系统负责生产消息。
一个消息生产者会把业务应用系统里产生的消息发送到broker服务器（ip:port）。

## RocketMQ提供多种发送方式
+ 同步发送
+ 顺序发送
+ 单向发送

同步和异步方式均需要Broker返回确认信息，单向发送不需要

# Consumer
负责消费消息，一般是后台系统负责异步消息
一个消息消费者会从broker服务器拉取消息，并将其提供给应用程序
从用户应用的角度而言提供了两种消费形式：
+ 拉取式消费
+ 推动式消费

## 拉取式消费（Pull Consumer）
Consumer消费的一种类型，应用通常主动调用Consumer的拉消息方法从Broker服务器拉消息、主动权由应用控制。一旦获取了批量消息，应用就会启动消费过程
## 推动式消费（Push Consumer）
Consumer消费的一种类型，该模式下Broker收到数据后会主动推送给消费端，该消费模式一般实时性较高

# Topic
表示一类消息的集合，每个主题包含若干条消息，每条消息只属于一个主题，是Rocketmq进行消息订阅的基本单位

# Broker Server（代理服务器）
消息中转角色，负责存储消息、转发消息。代理服务器在RocketMQ系统中负责接收从生产者发送来的消息并存储、同时为消费者的拉取请求做准备。代理服务器也存储消息相关的元数据，包括消费者组、消费进度偏移和主题和队列消息等

# Name Server（名字服务）
名称服务充当路由消息的提供者。
生产者或消费者能够通过名字服务查找各主题响应的Broker IP列表。
多个Namesrv实例组成集群，但互相独立，没有信息交互
